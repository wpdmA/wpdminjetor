local p=game:GetService("Players");local tb=true;local ts="o";local pa=true;local ak="k";local rc=false;local eu=5;local ae=false;local la=true;local j=1;local ss=0.1;local pf={};local lp=p.LocalPlayer;local c=workspace.CurrentCamera;local m=lp:GetMouse();local sw=false;local k="k";local ap=nil;local ef;local t=game:GetService("UserInputService");local u=game:GetService("RunService");local v=Instance.new("ScreenGui");v.Name="WPDM_GUI";v.ResetOnSpawn=false;v.Parent=lp:WaitForChild("PlayerGui");local w=Instance.new("Frame");w.Size=UDim2.new(0,250,0,150);w.Position=UDim2.new(0.5,-125,0.5,-75);w.BackgroundColor3=Color3.new(0.2,0.2,0.2);w.BackgroundTransparency=0.1;w.BorderSizePixel=2;w.Visible=false;w.Parent=v;local x=Instance.new("TextLabel");x.Size=UDim2.new(1,0,0,30);x.Position=UDim2.new(0,0,0,0);x.BackgroundTransparency=1;x.Text="WPDM";x.TextColor3=Color3.new(1,1,1);x.TextScaled=true;x.Font=Enum.Font.SourceSansBold;x.Parent=w;local y=Instance.new("TextLabel");y.Size=UDim2.new(0.5,0,0,30);y.Position=UDim2.new(0,10,0,40);y.BackgroundTransparency=1;y.Text="Lock Angle:";y.TextColor3=Color3.new(1,1,1);y.TextScaled=true;y.Font=Enum.Font.SourceSans;y.Parent=w;local z=Instance.new("TextBox");z.Size=UDim2.new(0.4,0,0,30);z.Position=UDim2.new(0.55,0,0,40);z.BackgroundColor3=Color3.new(0.3,0.3,0.3);z.Text=tostring(j);z.TextColor3=Color3.new(1,1,1);z.Font=Enum.Font.SourceSans;z.Parent=w;z.FocusLost:Connect(function(aa)if aa then local ab=tonumber(z.Text);if ab then j=ab else z.Text=tostring(j)end end end);local sl=Instance.new("TextLabel");sl.Size=UDim2.new(0.5,0,0,30);sl.Position=UDim2.new(0,10,0,80);sl.BackgroundTransparency=1;sl.Text="Smooth Speed:";sl.TextColor3=Color3.new(1,1,1);sl.TextScaled=true;sl.Font=Enum.Font.SourceSans;sl.Parent=w;local sb=Instance.new("TextBox");sb.Size=UDim2.new(0.4,0,0,30);sb.Position=UDim2.new(0.55,0,0,80);sb.BackgroundColor3=Color3.new(0.3,0.3,0.3);sb.Text=tostring(ss);sb.TextColor3=Color3.new(1,1,1);sb.Font=Enum.Font.SourceSans;sb.Parent=w;sb.FocusLost:Connect(function(aa)if aa then local ab=tonumber(sb.Text);if ab and ab>=0 and ab<=1 then ss=ab else sb.Text=tostring(ss)end end end);local ae=function()z.Text=tostring(j);sb.Text=tostring(ss)end;t.InputBegan:Connect(function(af,ag)if not ag and af.KeyCode==Enum.KeyCode.RightShift then w.Visible=not w.Visible;if w.Visible then ae();t.MouseBehavior=Enum.MouseBehavior.Default;t.MouseIconEnabled=true else t.MouseIconEnabled=false end end end);local pm={Enum.Material.Wood};local function ist(targetHead)local lc=lp.Character;if not lc then return false end;local ign={};for _,v in ipairs(lc:GetChildren())do if v:IsA("BasePart")then table.insert(ign,v)end end;local sp=c.CFrame.Position;local dir=(targetHead.Position-sp).Unit;local dist=(targetHead.Position-sp).Magnitude;local cp=sp;local rd=dist;while rd>0 do local r=Ray.new(cp,dir*rd);local obj,hp=workspace:FindPartOnRayWithIgnoreList(r,ign);if not obj then return true end;if obj:IsDescendantOf(targetHead.Parent)then return true end;if not table.find(pm,obj.Material)then return false end;cp=hp+dir*0.01;rd=rd-(hp-cp).Magnitude;table.insert(ign,obj)end;return true end;local ee={};local function addesp()if not ef then ef=Instance.new("Folder");ef.Parent=c end;for pn,el in pairs(ee)do el.b:Destroy();ee[pn]=nil end;for _,plr in ipairs(p:GetChildren())do if plr.Character and plr.Character:FindFirstChild("Humanoid")and plr.Character.Humanoid.Health>0 and plr.Name~=lp.Name then local sa=not tb or(tb and plr.Team~=lp.Team);if sa then local b=Instance.new("BillboardGui",ef);b.Name=plr.Name;b.AlwaysOnTop=true;b.Size=UDim2.new(1,0,1,0);b.Adornee=plr.Character.Head;local f=Instance.new('Frame',b);f.Active=true;f.BackgroundTransparency=0;f.BorderSizePixel=0;f.AnchorPoint=Vector2.new(.5,.5);f.Position=UDim2.new(.5,0,.5,0);f.Size=UDim2.new(1,0,1,0);f.Rotation=0;ee[plr.Name]={b=b,f=f};plr.Character.Humanoid.Died:Connect(function()if ee[plr.Name]then ee[plr.Name].b:Destroy();ee[plr.Name]=nil end end)end end end end;local function ue()for pn,el in pairs(ee)do local plr=p:FindFirstChild(pn);if plr and plr.Character and plr.Character:FindFirstChild("Head")and plr.Character:FindFirstChild("Humanoid")and plr.Character.Humanoid.Health>0 then local is=ist(plr.Character.Head);if is then el.f.BackgroundColor3=Color3.new(0,1,0)else el.f.BackgroundColor3=Color3.new(1,0,0)end end end end end;local function gf(p0,p1,dg)local x1,y1,z1=p0:ToOrientation();local cf=CFrame.new(p0.Position,p1.Position);local x2,y2,z2=cf:ToOrientation();if dg then return Vector3.new(math.deg(x1-x2),math.deg(y1-y2),math.deg(z1-z2))else return Vector3.new(x1-x2,y1-y2,z1-z2)end end;local function cf(part)local f=gf(c.CFrame,part.CFrame);return math.abs(f.X)+math.abs(f.Y)end;local function am(part)c.CFrame=c.CFrame:Lerp(CFrame.new(c.CFrame.Position,part.Position),ss)end;local function gap()pf={};local cp=c.CFrame.Position;local lc=lp.Character;if not lc then return end;local ign={};for _,v in ipairs(lc:GetChildren())do if v:IsA("BasePart")then table.insert(ign,v)end end;for _,plr in ipairs(p:GetChildren())do if plr.Character and plr.Character:FindFirstChild("Humanoid")and plr.Character.Humanoid.Health>0 and plr.Name~=lp.Name and plr.Character:FindFirstChild("Head")then local sc=not tb or(tb and plr.Team~=lp.Team);if sc then local cf=CFrame.new(cp,plr.Character.Head.Position);local r=Ray.new(cf.Position,cf.LookVector*10000);local obj=workspace:FindPartOnRayWithIgnoreList(r,ign);if obj and obj:IsDescendantOf(plr.Character)and not obj:IsDescendantOf(lc)then table.insert(pf,obj)end end end end end end;local ia=false;m.KeyDown:Connect(function(a)if a=="t"then addesp()elseif a=="u"then rc=not rc elseif a=="l"then ae=not ae elseif a=="j"then if m.Target then m.Target:Destroy()end elseif a=="p"then local md={"MainGui","Client FeedsUI","ArenaUI","LobbyLeaderboardUI","OverheadGui","VoteKickClient","SpectateGui","MatchMakingGui","HudGui","MatchGui"};local rs=game:GetService("ReplicatedStorage");for _,mn in ipairs(md)do local mod=rs:FindFirstChild(mn);if mod and mod:IsA("ModuleScript")then pcall(function()require(mod)end)end end elseif a==k then sw=not sw;if not sw then ap=nil end elseif a==ts then tb=not tb end end);m.Button1Down:Connect(function()ia=true end);m.Button1Up:Connect(function()ia=false;ap=nil end);local rs=game:GetService("RunService");rs.RenderStepped:Connect(function()local lc=lp.Character;if not lc or not lc:FindFirstChild("Humanoid")then return end;local h=lc.Humanoid;ue();if ia or sw then local ma=math.rad(j);local bt=nil;local bd=math.huge;for _,plr in ipairs(p:GetChildren())do if plr.Name~=lp.Name and plr.Character and plr.Character:FindFirstChild("Head")and plr.Character:FindFirstChild("Humanoid")and plr.Character.Humanoid.Health>1 then local sc=not tb or(tb and plr.Team~=lp.Team);if sc then local an=cf(plr.Character.Head);local dist=(plr.Character.Head.Position-c.CFrame.Position).Magnitude;if an<ma and dist<bd then ma=an;bd=dist;bt=plr.Character.Head end end;plr.Character.Humanoid.Died:Connect(function()if ap and ap:IsDescendantOf(plr.Character)then ap=nil end end)end end;ap=bt end;if ap then am(ap);if ap:IsDescendantOf(lc)then ap=nil end elseif rc and sw then gap();local ma=999;for _,v in ipairs(pf)do if not v:IsDescendantOf(lc)then local an=cf(v);if an<ma and v~=lc.Head then ma=an;ap=v;v.Parent.Humanoid.Died:Connect(function()ap=nil end)end end end end end);task.spawn(function()while task.wait(eu)do if ae then pcall(addesp)end end end)
