const ver="7",features={questionSpoof:!0,autoAnswer:!0},featureConfigs={autoAnswerDelay:3},delay=ms=>new Promise(r=>setTimeout(r,ms)),playAudio=url=>{new Audio(url).play()};function sendToast(t,d=5e3,g="bottom",i=null){const o=Toastify({text:t,duration:d,gravity:g,position:"center",stopOnFocus:!0,style:{background:"#000",fontSize:"16px",fontFamily:"Arial, sans-serif",color:"#fff",padding:"10px 20px",borderRadius:"5px",display:"flex",alignItems:"center"}});if(i){const e=document.createElement("img");e.src=i,e.style.width="20px",e.style.height="20px",e.style.marginRight="10px",o.toastElement.prepend(e)}o.showToast()}const baseSelectors=[`[data-testid="choice-icon__library-choice-icon"]`,`[data-testid="exercise-check-answer"]`,`[data-testid="exercise-next-question"]`,`._1udzurba`,`._awve9b`],khanwareDominates=!0;function findAndClickBySelector(s){const e=document.querySelector(s);return e?(e.click(),!0):!1}(async()=>{for(;khanwareDominates;)if(features.autoAnswer&&features.questionSpoof){const s=[...baseSelectors];for(const t of s)if(findAndClickBySelector(t),document.querySelector(t+"> div")&&document.querySelector(t+"> div").innerText==="Mostrar resumo"){sendToast("🎉 Exercício concluído!",3e3);playAudio("https://r2.e-z.host/4d0a0bea-60f8-44d6-9e74-3032a64a9f32/4x5g14gj.wav")}await delay(featureConfigs.autoAnswerDelay*800)}else await delay(800)})();const phrases=["WeLL ⛄️","WeLL ⛄️","WeLL ⛄️","WeLL ⛄️","WeLL ⛄️"],originalFetch=window.fetch;window.fetch=async function(e,t){let o;if(e instanceof Request)o=await e.clone().text();else o=t&&t.body;const r=await originalFetch.apply(this,arguments),c=r.clone();try{const e=await c.text(),n=JSON.parse(e);if(features.questionSpoof&&n?.data?.assessmentItem?.item?.itemData){let i=JSON.parse(n.data.assessmentItem.item.itemData);if(i.question.content[0]===i.question.content[0].toUpperCase()){i.answerArea={calculator:!1,chi2Table:!1,periodicTable:!1,tTable:!1,zTable:!1},i.question.content=phrases[Math.floor(Math.random()*phrases.length)]+"[[☃ radio 1]]",i.question.widgets={"radio 1":{type:"radio",options:{choices:[{content:"Resposta correta.",correct:!0},{content:"Resposta incorreta.",correct:!1}]}}},n.data.assessmentItem.item.itemData=JSON.stringify(i),sendToast("WeLL ⛄️",1e3);return new Response(JSON.stringify(n),{status:r.status,statusText:r.statusText,headers:r.headers})}}}catch(e){console.error(e)}return r};const originalParse=JSON.parse;JSON.parse=function(e,t){let o=originalParse(e,t);try{o?.data&&Object.keys(o.data).forEach(e=>{const t=o.data[e];if(features.showAnswers&&"assessmentItem"===e&&t?.item){let s=JSON.parse(t.item.itemData);if(s.question&&s.question.widgets&&s.question.content[0]===s.question.content[0].toUpperCase())Object.keys(s.question.widgets).forEach(e=>{const o=s.question.widgets[e];o.options&&o.options.choices&&o.options.choices.forEach(e=>{e.correct&&(e.content="✅ "+e.content,sendToast("WeLL ⛄️",1e3))})}),t.item.itemData=JSON.stringify(s)}})}catch(e){console.error(e)}return o;
